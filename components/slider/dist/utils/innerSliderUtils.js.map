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