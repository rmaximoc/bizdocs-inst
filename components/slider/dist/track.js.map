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